/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 3.3.0
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("d3-selection"),require("d3-brush")):"function"==typeof define&&define.amd?define("bb",["d3-selection","d3-brush"],t):"object"==typeof exports?exports.bb=t(require("d3-selection"),require("d3-brush")):(e.bb=e.bb||{},e.bb.plugin=e.bb.plugin||{},e.bb.plugin.sparkline=t(e.d3,e.d3))}(this,(function(e,t){return function(){"use strict";var n=[,function(t){t.exports=e},,function(e){e.exports=t}],i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r={};return function(){function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}o.d(r,{default:function(){return f}});var n="bb-target",i=function(){function e(e){void 0===e&&(e={}),this.$$=void 0,this.options=void 0,this.options=e}var t=e.prototype;return t.$beforeInit=function(){},t.$init=function(){},t.$afterInit=function(){},t.$redraw=function(){},t.$willDestroy=function(){var e=this;Object.keys(this).forEach((function(t){e[t]=null,delete e[t]}))},e}();i.version="3.2.2";var l=function(){return{selector:void 0}};o(1),o(3);var s="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")();s.requestIdleCallback=s.requestIdleCallback||function(e){return setTimeout(e,1)},s.cancelIdleCallback=s.cancelIdleCallback||function(e){return clearTimeout(e)};var c=null==s?void 0:s.document;var a=function(e){return void 0!==e},u=function(e){return"object"==typeof e};!function(){try{new MouseEvent("t")}catch(e){return function(e,t,n){void 0===n&&(n={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});var i=c.createEvent("MouseEvent");i.initMouseEvent(t,n.bubbles,n.cancelable,s,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}}();function d(e){var t,n,i,o=this.config,r=function(){var e=n.shift();return e&&t&&u(t)&&e in t?(t=t[e],r()):e?void 0:t};Object.keys(o).forEach((function(l){t=e,n=l.split("_"),i=r(),a(i)&&(o[l]=i)}))}var f=function(i){var o,r;function s(t){var n=i.call(this,t)||this;return n.config=void 0,n.element=void 0,n.config=new l,e(n)||e(n)}r=i,(o=s).prototype=Object.create(r.prototype),o.prototype.constructor=o,t(o,r);var c=s.prototype;return c.$beforeInit=function(){d.call(this,this.options),this.validate(),this.element=[].slice.call(document.querySelectorAll(this.config.selector)),this.overrideInternals(),this.overrideOptions(),this.overHandler=this.overHandler.bind(this),this.moveHandler=this.moveHandler.bind(this),this.outHandler=this.outHandler.bind(this)},c.validate=function(){var e=this.$$,t=this.config,n="";if(t.selector&&document.querySelector(t.selector)||(n="No holder elements found from given selector option."),(e.hasType("bubble")||e.hasType("scatter")||e.hasArcType(e.data.targets))&&(n="Contains non supported chart types."),n)throw new Error("[Sparkline plugin] "+n)},c.overrideInternals=function(){var e=this.$$,t=e.getBarW,n=e.getIndices;e.getIndices=function(e,t,i){return"getShapeX"===i?{}:n.call(this,e,t)},e.getBarW=function(e,n){return t.call(this,e,n,1)}},c.overrideOptions=function(){var e=this.$$.config;e.legend_show=!1,e.resize_auto=!1,e.axis_x_show=!1,e.axis_x_padding={left:15,right:15,unit:"px"},e.axis_y_show=!1,e.axis_y_padding=5,e.tooltip_position||(e.tooltip_position=function(e,t,n){var i=this.internal.state.event,o=i.pageY-1.35*n,r=i.pageX-t/2;return o<0&&(o=0),r<0&&(r=0),{top:o,left:r}})},c.$init=function(){var e=this.$$.$el;e.chart.style("width","0").style("height","0").style("pointer-events","none"),document.body.appendChild(e.tooltip.node())},c.$afterInit=function(){this.$$.$el.svg.attr("style",null).style("width","0").style("height","0"),this.bindEvents(!0)},c.bindEvents=function(e){var t=this;if(void 0===e&&(e=!0),this.$$.config.interaction_enabled){var n=(e?"add":"remove")+"EventListener";this.element.forEach((function(e){var i=e.querySelector("svg");i[n]("mouseover",t.overHandler),i[n]("mousemove",t.moveHandler),i[n]("mouseout",t.outHandler)}))}},c.overHandler=function(e){this.$$.state.eventReceiver.rect=e.target.getBoundingClientRect()},c.moveHandler=function(e){var t,n,i,o=this.$$,r=o.getDataIndexFromEvent(e),l=null==(t=o.api.data(e.target.__id))?void 0:t[0],s=null==(n=l)||null==(i=n.values)?void 0:i[r];s&&!s.name&&(s.name=s.id),o.state.event=e,o.setExpand(r,l.id,!0),o.showTooltip([s],e.target)},c.outHandler=function(e){var t=this.$$;t.state.event=e,t.unexpandCircles(),t.hideTooltip()},c.$redraw=function(){var e,t=this.$$,i=t.$el,o=this.element,r=t.api.data(),l=null==(e=i.chart.html().match(/<svg[^>]*>/))?void 0:e[0];if(o.length<r.length){for(var s=i.chart.node(),c=r.length-o.length;c>0;c--)s.parentNode.insertBefore(o[0].cloneNode(),s.nextSibling);this.element=document.querySelectorAll(this.config.selector),o=this.element}r.map((function(e){return e.id})).forEach((function(e,t){var r="."+n+"-"+e,s=i.main.selectAll(r),c=o[t].querySelector("svg");c||(o[t].innerHTML=l+"</svg>",(c=o[t].querySelector("svg")).__id=e),c.querySelector(r)||s.style("opacity",null),s.style("fill","none").style("opacity",null),c.innerHTML="",c.appendChild(s.node())}))},c.$willDestroy=function(){this.bindEvents(!1),this.element.forEach((function(e){e.innerHTML=""}))},s}(i);f.version="0.0.1"}(),r=r.default}()}));